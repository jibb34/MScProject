/* ========== Base ========== */
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

button { cursor: pointer; }
label { font-size: 0.92rem; }

/* ========== Header Bar ========== */
.bar {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  background: #111;
  color: #fff;
}

.bar .right {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ========== Main layout ========== */
main { padding: 10px; }

.panel {
  height: 38vh;            /* enough room for Plotly/Leaflet */
  min-height: 200px;
  margin-bottom: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

.log {
  background: #f7f7f7;
  border: 1px dashed #ccc;
  padding: 8px;
  border-radius: 6px;
  height: 140px;
  overflow: auto;
}

/* uploader row */
.uploader {
  margin: 10px 0;
  display: flex;
  gap: 12px;
  align-items: center;
}

.upload-msg {
  font-size: 0.9rem;
  color: #555;
}

/* ========== Tabs + Panels ========== */
.tabs {
  display: flex;
  gap: .5rem;
  margin: .75rem 0;
  flex-wrap: wrap;
}

.tabs button {
  padding: .35rem .65rem;
  border: 1px solid #444;
  background: #222;
  color: #ddd;
  border-radius: .4rem;
}

.tabs button.active {
  background: #2ad;
  border-color: #2ad;
  color: #111;
}

#labPanels .panel {
  padding: 8px;
  box-sizing: border-box;
}

/* Stats cards */
.stats-summary {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: .5rem .75rem;
  margin-bottom: .5rem;
}

.stats-summary .badge {
  background: #111;
  border: 1px solid #333;
  padding: .35rem .5rem;
  border-radius: .35rem;
  color: #ddd;
}

.stats-summary .label {
  color: #aaa;
  display: block;
  font-size: 11px;
  margin-bottom: 2px;
}

.stats-summary .value {
  font-weight: 600;
  font-size: 12px;
  color: #fff;
}

/* ========== Route Map ========== */
#routeMap {
  height: 360px;
  border: 1px solid #333;
  border-radius: 8px;
}

.map-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: .25rem 0 .5rem;
}

.map-title { font-weight: 600; color: #ddd; }

.map-link {
  font-size: 12px;
  padding: .25rem .5rem;
  border: 1px solid #444;
  border-radius: 6px;
  color: #ddd;
  text-decoration: none;
}

.map-link:hover {
  background: #222;
  border-color: #666;
}

/* Upload status colors */
.upload-msg.is-info { color: #555; }
.upload-msg.is-ok   { color: #2da44e; }  /* green */
.upload-msg.is-err  { color: #d33; }     /* red */


/* Wavelet UI */
.wavelet-controls {
  display: flex; gap: 16px; align-items: flex-start; margin-bottom: 8px;
}
.wavelet-form .row { display: grid; grid-template-columns: 140px 1fr; align-items: center; margin: 6px 0; }
.wavelet-form label { color: #bbb; font-size: 12px; }
.wavelet-form .inputs { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
.wavelet-form input { width: 84px; padding: 2px 6px; }
.wavelet-form .hint { color: #888; font-size: 11px; }

.wf-run { padding: .35rem .65rem; border: 1px solid #444; background: #282828; color: #ddd; border-radius: 6px; }
.wf-run:hover { background: #333; }

.wavelet-legend { display: grid; gap: 4px; font-size: 12px; color: #ddd; }
.chip { display: inline-block; width: 12px; height: 12px; border-radius: 3px; margin-right: 6px; vertical-align: -2px; }
.chip-flat { background: #9aa0a6; }
.chip-up   { background: #d33; }
.chip-down { background: #38f; }
.chip-roll { background: #ff8c00; }

.wavelet-note { color: #aaa; font-size: 12px; }

.row[data-hyst-row].disabled { opacity: 0.5; }

